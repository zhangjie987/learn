
<plugin>
    <!--拷贝资源文件，并进行资源文件中属性占位符进行profiles.profile属性替换-->
    <artifactId>maven-resources-plugin</artifactId>
    <version>2.5</version>
    <executions>
        <execution>
            <id>copy-xmls</id>
            <phase>process-sources</phase>
            <goals>
                <goal>copy-resources</goal>
            </goals>
            <configuration>
                <outputDirectory>${basedir}/target/classes/conf</outputDirectory>
                <resources>
                    <resource>
                        <directory>${project.basedir}/src/main/resources/conf</directory>
                        <includes>
                            <include>config/jdbc.xml</include>
                            <include>config/runtime.xml</include>
                        </includes>
                        <!--
                        filtering为true
                        将使用profiles.profile中配置的属性
                        进行includes节点中的文件属性占位符进行替换
                        -->
                        <filtering>true</filtering>
                    </resource>
                </resources>
            </configuration>
        </execution>
    </executions>
</plugin>

<plugin>
    <!--生成清单文件-->
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-jar-plugin</artifactId>
    <version>3.2.0</version>
    <configuration>
        <archive>
            <manifest>
                <mainClass>bingosoft.train.SchedulerApp</mainClass>
                <addClasspath>true</addClasspath>
                <classpathPrefix>./lib/</classpathPrefix>
                <useUniqueVersions>false</useUniqueVersions>
            </manifest>
        </archive>
    </configuration>
</plugin>

<plugin>
    <!--拷贝依赖jar包到lib目录下-->
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-dependency-plugin</artifactId>
    <executions>
        <execution>
            <id>copy</id>
            <phase>package</phase>
            <goals>
                <goal>copy-dependencies</goal>
            </goals>
            <configuration>
                <outputDirectory>${project.build.directory}/lib</outputDirectory>
            </configuration>
        </execution>
    </executions>
</plugin>

<plugin>
    <!--运行mvn jetty:run启动站点-->
    <groupId>org.mortbay.jetty</groupId>
    <artifactId>jetty-maven-plugin</artifactId>
    <version>8.1.8.v20121106</version>
    <configuration>
        <scanIntervalSeconds>10</scanIntervalSeconds>
        <webAppConfig>
            <contextPath>/moniter-api</contextPath>
        </webAppConfig>
    </configuration>
</plugin>